(this["webpackJsonpto-do-list-app"]=this["webpackJsonpto-do-list-app"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(0),r=n.n(o),s=n(19),a=n.n(s),i=(n(26),n(27),n(8)),j=n(2),u=n(4),b=function(){var e=Object(o.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)(""),a=Object(u.a)(s,2),i=a[0],b=a[1],d=Object(o.useState)(""),h=Object(u.a)(d,2),p=h[0],l=h[1],O=Object(o.useContext)(x),f=Object(u.a)(O,2)[1],m=Object(j.f)();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Register!"}),p,Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://to-do-list-app-mt.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})}).then((function(){f({username:n,password:i}),m.push("/")})).catch((function(e){console.log(e),l("Error")}))},children:[Object(c.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},placeholder:"username",required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password",onChange:function(e){return b(e.target.value)},placeholder:"password",required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"Register"})]})]})},d=n(17),h=n(35),p=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)(""),a=Object(u.a)(s,2),i=a[0],j=a[1],b=Object(o.useContext)(x),p=Object(u.a)(b,1)[0],l=Object(o.useState)("uncompleted"),O=Object(u.a)(l,2),f=O[0],m=O[1],g=function(e){fetch("https://to-do-list-app-mt.herokuapp.com/todo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(p.username,": ").concat(p.password)},body:JSON.stringify(e)})};Object(o.useEffect)((function(){fetch("https://to-do-list-app-mt.herokuapp.com/todo",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(p.username,":").concat(p.password)}}).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsxs)("select",{value:f,onChange:function(e){return t=e.target.value,void m(t);var t},children:[Object(c.jsx)("option",{value:"completed",children:"Completed"}),Object(c.jsx)("option",{value:"uncompleted",children:"Uncompleted"})]}),n.filter((function(e){return"completed"===f?e.checked:!e.checked})).map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{checked:e.checked,onChange:function(){return function(e){var t=Object(d.a)(n),c=t.find((function(t){return t.id===e}));c.checked=!c.checked,r(t),g(t)}(e.id)},type:"checkbox"}),Object(c.jsx)("label",{children:e.text})]},e.id)})),Object(c.jsx)("br",{}),Object(c.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),i){var t={id:Object(h.a)(),checked:!1,text:i},c=[].concat(Object(d.a)(n),[t]);r(c),j(""),g(c)}},children:[Object(c.jsx)("input",{value:i,onChange:function(e){return j(e.target.value)},type:"text"}),Object(c.jsx)("button",{type:"submit",children:"Add"})]})]})},l=function(){var e=Object(o.useContext)(x),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("div",{children:[n&&Object(c.jsx)("button",{onClick:function(){r(null)},children:"Logout"}),Object(c.jsxs)("h1",{children:["Welcome ",n&&n.username]}),!n&&Object(c.jsx)(i.b,{to:"/register",children:"Register"}),Object(c.jsx)("br",{}),!n&&Object(c.jsx)(i.b,{to:"/login",children:"Login"}),n&&Object(c.jsx)(p,{})]})},O=function(){var e=Object(o.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)(""),a=Object(u.a)(s,2),i=a[0],b=a[1],d=Object(o.useState)(""),h=Object(u.a)(d,2),p=h[0],l=h[1],O=Object(o.useContext)(x),f=Object(u.a)(O,2)[1],m=Object(j.f)();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Login!"}),p,Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://to-do-list-app-mt.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})}).then((function(){f({username:n,password:i}),m.push("/")})).catch((function(e){console.log(e),l("Error")}))},children:[Object(c.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},placeholder:"username",required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password",onChange:function(e){return b(e.target.value)},placeholder:"password",required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"Login"})]})]})},x=r.a.createContext();var f=function(){var e=Object(o.useState)(null);return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(x.Provider,{value:e,children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",children:Object(c.jsx)(l,{})}),Object(c.jsx)(j.a,{exact:!0,path:"/register",children:Object(c.jsx)(b,{})}),Object(c.jsx)(j.a,{exact:!0,path:"/login",children:Object(c.jsx)(O,{})})]})})})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),m()}},[[33,1,2]]]);
//# sourceMappingURL=main.f4436182.chunk.js.map